{% extends 'public_base.html' %}
{% load static %}

{#
    instruments = list of all instruments.
#}

{% block load_css %}
    <link rel="stylesheet" type="text/css" href='{% static "css/register_member.css" %}'>
{% endblock %}

{% block header %}
<nav class="navbar navbar-expand-md fixed-top navbar-dark navbar-custom">

    <!-- Logo -->
    <a class="navbar-brand brand" href="{% url 'public:welcome' %}">Houston Chamber Music Network</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">

        <!-- Navbar links -->
        <ul class="navbar-nav mr-4">
            <li class="nav-item active">
                <a class="nav-link" href="{% url 'public:new_member' %}">REGISTER AS MEMBER</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="{% url 'public:new_coach' %}">REGISTER AS COACH</a>
            </li>

            <!-- <li class="navbar-item">
                <a class="nav-link" href="{% url 'public:new_patron' %}">SIGN UP FOR E-NEWSLETTER</a>
            </li> -->
        </ul>

        <!-- Navbar right -->
        <ul class="navbar-nav ml-auto">
            <!-- Link to external login: -->
            <li class="nav-item">
                <a class="nav-link" href="{% url 'public:login' %}">LOGIN</a>
            </li>
        </ul>
    </div>
</nav>
{% endblock %}

{% block main_content %}
<header class="main">
    <div class="container">
        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-xs-12 col-sm-10 col-md-8">
                    <form role="form" action="{% url 'users:member_registration_handler' %}" id="form-container" method="post">
                        {% csrf_token %}
                        <!-- empty div for spacing: -->
                        <div class="col-md-12"></div>

                        <!-- This div contains the actual form: -->
                        <div class="col-md-8" id="inner-form-container">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h3 class="panel-title">Member Registration Form</h3>
                                </div>
                            </div>

                            <!-- Panel for curlicue divider: -->
                            <div class="panel panel-default">
                                <img class="col-xs-10 col-sm-10 col-md-8" src='{% static "images/divider9.png" %}' alt="" class="img-responsive">
                            </div>

                            <!-- Div for overlays: -->
                            <div class="panel panel-default1">
                                <h5>Before filling out form, please read the following:</h5>

                                <!-- Self-rating overlay: -->
                                <div id="overlay1" onclick="off('overlay1')">
                                    <div id="overlay1-text">
                                    <div><h5><b>Below, you will be asked to rate your musicianship. Please choose the "grade" that best describes you.</b></h5><br><br></div>
                                        <dl class="row">

                                            <dt class="col-sm-3">Novice</dt>
                                            <dd class="col-sm-9">
                                                <p>I can read music and have basic technical skills. I am starting to explore chamber music repertoire. I can sight-read simple pieces slowly. Often I must slow down in faster or more technical passages. Sometimes I get "tangled" in my own part.</p>
                                            </dd>

                                            <dt class="col-sm-3">Advanced Novice</dt>
                                            <dd class="col-sm-9">
                                                <p>My skills are better that the skills described for Novice, but not quite up to the level of intermediate.</p>
                                            </dd>

                                            <dt class="col-sm-3">Intermediate</dt>
                                            <dd class="col-sm-9">
                                                <p>I play with a decent tone. I am comfortable at moderate tempi. I am peripherally aware of other parts. I can sight-read at a moderate tempo but slow down the hard sections. I tend to get absorbed in my own part.</p>
                                            </dd>

                                            <dt class="col-sm-3">Advanced Intermediate</dt>
                                            <dd class="col-sm-9">
                                                <p>My skills are better than the skills described for Intermediate, but not quite up to the level of advanced.</p>
                                            </dd>

                                            <dt class="col-sm-3">Advanced</dt>
                                            <dd class="col-sm-9">
                                                <p>I play with a pleasant tone. I can get back in when lost. I can sight-read near concert tempo, except in difficult technical passages. I am aware of other parts and try to match them. The hardest passages sound messy if I try to match them. The hardest passages sound messy if I take them too fast. My phrasing is sometimes choppy.</p>
                                            </dd>

                                            <dt class="col-sm-3">Very Advanced</dt>
                                            <dd class="col-sm-9">
                                            <p>My skills are better than the skills described for Advanced, but not quite up to the level of Expert.</p>
                                            </dd>

                                            <dt class="col-sm-3">Expert</dt>
                                            <dd class="col-sm-9">
                                                <p>I play with a beautiful tone. I can play quickly and cleanly in difficult keys and with key/tempo changes. I am a strong leader. I can sight-read all passages cleanly at concert tempo (except pianists). I have keen awareness of other parts and know exactly how they fit. I want to develop a cohesive group sound and a wider range in tone color. I need to fine-tune my intonation.</p>
                                            </dd>

                                            <dt class="col-sm-3">Professional</dt>
                                            <dd class="col-sm-9">
                                                <p>I am conservatory trained. I play with a finely nuanced tone. I can play most difficult passages with finesse at performance tempo. I use high-level technique. I can sight-read all passages cleanly at concert tempo, with phrasing. I could likely play all others' parts if asked. I am out of the habit of playing for enjoyment. I am self critical.</p>
                                            </dd>
                                        </dl>
                                    </div>

                                </div>

                                <div style="">
                                    <button onclick="on('overlay1')" class="btn btn-reg btn-info btn-block">What's my rating?</button>
                                </div>

                                <!-- What happens overlay: -->
                                    <div id="overlay2" onclick="off('overlay2')">
                                    <div id="overlay2-text">
                                        <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?</p>
                                        <p>(Click anywere in gray box to dismiss this message.)</p>
                                    </div>
                                </div>

                                <div style="">
                                    <button onclick="on('overlay2')" class="btn btn-reg btn-info btn-block">What happens after I submit this form?</button>
                                </div>

                                <!-- Privacy policy overlay: -->
                                <div id="overlay3" onclick="off('overlay3')">
                                    <div id="overlay3-text">
                                    <p>None of your information will be shared with anyone other than other registered members of HCMN. Your address and phone number are not shared, even with other members of HCMN.</p>
                                        <p>(Click anywere in gray box to dismiss this message.)</p>
                                    </div>
                                </div>

                                <div style="">
                                    <button onclick="on('overlay3')" class="btn btn-reg btn-info btn-block">HCMN Privacy Policy</button>
                                </div>
                                <br>

                                <script type="text/javascript">

                                    function on(id) {
                                        document.getElementById(id).style.display = "block";
                                    }

                                    function off(id) {
                                        document.getElementById(id).style.display = "none";
                                    }

                                </script>
                            <!-- End div for overlays: -->   
                            </div>

                            <div class="panel-body">
                                

                                <div class="panel panel-default">
                                    <img class="col-xs-10 col-sm-10 col-md-8" src='{% static "images/divider9.png" %}' alt="" class="img-responsive">
                                </div>

                                <!-- Basic information section: -->
                                <h5>Basic information:</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input type="text" name="first_name" id="first_name" class="form-control input-sm" placeholder="First name" value="{{ old_data.first_name }}">
                                            <div class="error-message">
                                                <p> 
                                                {% if 'first_name' in errors %}
                                                    {{ errors.first_name }}
                                                {% endif %}
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input type="text" name="last_name" id="last_name" class="form-control input-sm" placeholder="Last name"value="{{ old_data.last_name }}">
                                            <div class="error-message">
                                                <p>
                                                {% if 'last_name' in errors %}
                                                    {{ errors.last_name }}
                                                {% endif %}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <input type="email" name="email" id="email" class="form-control input-sm" placeholder="Email address" value="{{ old_data.email }}">
                                    <div class="error-message">
                                        <p>
                                        {% if 'email' in errors %}
                                            {{ errors.email }}
                                        {% endif %}
                                        </p>
                                    </div>
                                </div>
        
                                <!-- Address and phone section: -->
                                <h5>Address:</h5>
                                <div class="row">
                                    <div class="col-md-8">
                                        <div class="form-group">
                                            <input type="text" name="street_address" id="street_address" class="form-control input-sm" placeholder="Street address" value="{{ old_data.street_address }}">
                                            <div class="error-message">
                                                <p>
                                                {% if 'street_address' in errors %}
                                                    {{ errors.street_address }}
                                                {% endif %}
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <input type="text" name="unit_number" id="unit_number" class="form-control input-sm" placeholder="Unit" value="{{ old_data.unit_number }}">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <input type="text" name="city" id="city" class="form-control input-sm" placeholder="City" value="{{ old_data.city }}">
                                    <div class="error-message">
                                        <p>
                                        {% if 'city' in errors %}
                                            {{ errors.city }}
                                        {% endif %}
                                        </p>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <select class="form-control" name="state" id="state">
                                                <option>Texas</option>
                                                <option>Alabama</option>
                                                <option>Alaska</option>
                                                <option>Arizona</option>
                                                <option>Arkansas</option>
                                                <option>California</option>
                                                <option>Colorado</option>
                                                <option>Connecticut</option>
                                                <option>Delaware</option>
                                                <option>District of Columbia</option>
                                                <option>Florida</option>
                                                <option>Georgia</option>
                                                <option>Hawaii</option>
                                                <option>Idaho</option>
                                                <option>Illinois</option>
                                                <option>Indiana</option>
                                                <option>Iowa</option>
                                                <option>Kansas</option>
                                                <option>Kentucky</option>
                                                <option>Louisiana</option>
                                                <option>Maine</option>
                                                <option>Maryland</option>
                                                <option>Massachusetts</option>
                                                <option>Michigan</option>
                                                <option>Minnesota</option>
                                                <option>Mississippi</option>
                                                <option>Missouri</option>
                                                <option>Montana</option>
                                                <option>Nebraska</option>
                                                <option>Nevada</option>
                                                <option>New Hampshire</option>
                                                <option>New Jersey</option>
                                                <option>New Mexico</option>
                                                <option>New York</option>
                                                <option>North Carolina</option>
                                                <option>North Dakota</option>
                                                <option>Ohio</option>
                                                <option>Oklahoma</option>
                                                <option>Oregon</option>
                                                <option>Pennsylvania</option>
                                                <option>Rhode Island</option>
                                                <option>South Carolina</option>
                                                <option>South Dakota</option>
                                                <option>Tennessee</option>
                                                <option>Utah</option>
                                                <option>Vermont</option>
                                                <option>Virginia</option>
                                                <option>Washington</option>
                                                <option>West Virginia</option>
                                                <option>Wisconsin</option>
                                                <option>Wyoming</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <input type="text" name="zip_code" id="zip_code" class="form-control input-sm" placeholder="Zip" value="{{ old_data.zip_code }}">
                                            <div class="error-message">
                                                <p>
                                                {% if 'zip_code' in errors %}
                                                    {{ errors.zip_code }}
                                                {% endif %}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <h5>Location:</h5>
                                    <textarea type="area" name="area" id="area" class="form-control textarea" rows="4" placeholder="Please tell us briefly in what part of town you live and how far you are willing to travel for rehearsals and performances. i.e., 'I live in the Heights but I'm willing to drive anywhere within the loop.'">{{ old_data.area }}</textarea>
                                    <div class="error-message">
                                        <p>
                                        {% if 'area' in errors %}
                                            {{ errors.area }}
                                        {% endif %}
                                        </p>
                                    </div>
                                </div>
                                <br>

                                <div class="row" id="phone-row">
                                    <div class="col-md-4">
                                        <h5>Phone:</h5>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="form-group" align="right">
                                            (<input type="tel" name="tel1" size="3" pattern="\d{3}" placeholder="xxx" value="{{ old_data.tel1 }}" maxlength="3"/>) 
                                            <input type="tel" name="tel2" size="3" pattern="\d{3}" placeholder="xxx" value="{{ old_data.tel2 }}" maxlength="3"/> - 
                                            <input type="tel" name="tel3" size="4" pattern="\d{4}" placeholder="xxxx" value="{{ old_data.tel3 }}" maxlength="4"/>
                                            <div class="error-message">
                                                <p>
                                                {% if 'phone_number' in errors %}
                                                    {{ errors.phone_number }}
                                                {% endif %}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Section for musical information: -->
                                <h5>Musical information:</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <select class="form-control" name="primary_instrument" id="primary_instrument" placeholder="Primary instrument">
                                                {% if not old_data.primary_instrument %}
                                                    <option selected disabled>Primary instrument</option>
                                                        {% for instrument in instruments %}
                                                            <option value='{{ instrument.id }}'>{{ instrument }}</option>
                                                        {% endfor %}
                                                {% else %}
                                                    <option disabled>Primary instrument</option>
                                                        {% for instrument in instruments %}
                                                            <option {% if old_data.primary_instrument == instrument.id|stringformat:"i" %} selected {% endif %} value='{{ instrument.id }}'>{{ instrument }}</option>
                                                        {% endfor %}
                                                {% endif %}
                                            </select>
                                            <div class="error-message">
                                                <p>
                                                    {% if 'primary_instrument' in errors %}
                                                        {{ errors.primary_instrument }}
                                                    {% endif %}
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <select class="form-control" name="secondary_instrument" id="secondary_instrument" placeholder="Secondary instrument">
                                                {% if not old_data.secondary_instrument %}
                                                    <option selected disabled>Secondary instrument</option>
                                                        <option>None</option>
                                                        {% for instrument in instruments %}
                                                            <option value='{{ instrument.id }}'>{{ instrument }}</option>
                                                        {% endfor %}
                                                {% else %}
                                                    <option disabled>Secondary instrument</option>
                                                        {% for instrument in instruments %}
                                                            <option {% if old_data.secondary_instrument == instrument.id|stringformat:"i" %} selected {% endif %} value='{{ instrument.id }}'>{{ instrument }}</option>
                                                        {% endfor %}
                                                {% endif %}
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <textarea type="bio" name="bio" id="bio" class="form-control textarea" rows="5" placeholder="Brief musical bio">{{ old_data.bio }}</textarea>
                                    <div class="error-message">
                                        <p>
                                        {% if 'bio' in errors %}
                                            {{ errors.bio }}
                                        {% endif %}
                                        </p>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <select class="form-control" name="rating" id="rating" placeholder="Rating">
                                        <option {% if not old_data.rating %} selected {% endif %} disabled>Rating</option>
                                        {% for rating in rating_choices %}
                                            {% if rating.0 != 'S' %}
                                            <option {% if old_data.rating == rating.0 %} selected {% endif %}value="{{ rating.0 }}">{{ rating.1 }}</option>
                                            {% endif %}
                                        {% endfor %}
                                    </select>
                                    <div class="error-message">
                                        <p>
                                        {% if 'rating' in errors %}
                                            {{ errors.rating }}
                                        {% endif %}
                                        </p>
                                    </div>
                                </div>
                           
                                <input type="submit" value="SUBMIT FORM" class="btn btn-reg btn-info btn-block">
                            <!-- End div for panel-body: -->        
                            </div> 
                        <!-- End div for inner form container: -->
                        </div>
                    <!-- End form: -->
                    </form>
                <!-- End col declarations: -->
                </div>
            <!-- End row justify content: -->
            </div>
        <!-- End container fluid: -->
        </div>
    <!-- End container: -->
    </div>
<!-- End main: -->
</header>

{% endblock %}



body {
    /*font-family: 'Oxygen', sans-serif;*/
    /*font-family: 'Rubik', sans-serif;*/
    /*font-family: 'Arimo', sans-serif;*/
    /*font-family: 'Fira Sans', sans-serif;*/
    font-family: 'Roboto', sans-serif;
    /*font-family: 'Mukta', sans-serif;*/
    /*font-family: 'Lato', sans-serif;
    font-family: 'Lora', serif;
    font-family: 'Noto Serif', serif;*/
}

html {
    height: 100%;
    width: 100%;
}

/*navbar:*/

/*Background color:*/
.navbar {
    background-color: #667569;
}

.navbar-collapse {
    justify-content: flex-end;
}

/*Brand color and font:*/
.navbar-custom .navbar-brand {
    margin-bottom: 3px;
    color: #ace5ee;
    font-family: 'Noto Serif', serif;
}

/*Link color (not active or hover):*/
.navbar-custom .navbar-nav .nav-link {
    color: #ffffff;
}

/*Link active color:*/
.navbar-custom .nav-item.active .nav-link {
    color: #989898;
}

/*Link hover color:*/
.navbar-custom .nav-item:focus .nav-link,
.navbar-custom .nav-item:hover .nav-link {
color: #989898;
}


.main{
    height:100%;
    width:100%;
    margin: 0;
    padding: 0;
    background-color: #f7f7f7;
}

.container {
    width:100%;
    background-color: #f7f7f7;
}

.container-fluid {
    margin-top: 50px;
    padding-top: 50px;
    padding-bottom: 50px;
    background-color: #f7f7f7;
    margin-left: auto;
    margin-right: auto;
}

/*Form styling:*/
.panel-default {
    padding-top: 14px;
    padding-bottom: 14px;
}

img {
    display: block;
    margin-left: auto;
    margin-right: auto;
}

#inner-form-container {
    background-color: #f7f7f7;
    margin-left: auto;
    margin-right: auto;
}

#inner-form-container h3 {
    color: black;
    font-weight: bold;
}



.panel-default1 h5 {
    text-align: center;
}

.panel-default {
    padding-top: 15px;
}

.panel-heading {
    text-align: center;
}

#form-container h5 {
    margin-top: 20px;
    /*margin-bottom: 5px;*/
}

.error-message p {
    color: red;
}

.btn-reg {
    margin-top: 40px;
}

#phone-row h5 {
    margin-top: 5px;
}

#area-row h5 {
    margin-top: 5px;
}

#area-row {
    margin-bottom: 20px;
}

/*Overlay:*/

#overlay1 {
    position: fixed; /* Sit on top of the page content */
    display: none; /* Hidden by default */
    width: 100%; /* Full width (cover the whole page) */
    height: 100%; 
    margin: 0 auto;
    top: 0; 
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0,0,0,0.8); /* Black background with opacity */
    z-index: 2; /* Specify a stack order in case you're using a different order for other elements */
    cursor: pointer; /* Add a pointer on hover */
}

#overlay2 {
    position: fixed; /* Sit on top of the page content */
    display: none; /* Hidden by default */
    width: 80%; /* Full width (cover the whole page) */
    height: 100%; /* Full height (cover the whole page) */
    margin: 0 auto;
    top: 0; 
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0,0,0,0.8); /* Black background with opacity */
    z-index: 2; /* Specify a stack order in case you're using a different order for other elements */
    cursor: pointer; /* Add a pointer on hover */
}

#overlay3 {
    position: fixed; /* Sit on top of the page content */
    display: none; /* Hidden by default */
    width: 80%; /* Full width (cover the whole page) */
    height: 100%; /* Full height (cover the whole page) */
    margin: 0 auto;
    top: 0; 
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0,0,0,0.8); /* Black background with opacity */
    z-index: 2; /* Specify a stack order in case you're using a different order for other elements */
    cursor: pointer; /* Add a pointer on hover */
}

#overlay1-text{
    position: absolute;
    top: 50%;
    left: 50%;
    font-size: 12px;
    color: white;
    transform: translate(-50%,-50%);
    -ms-transform: translate(-50%,-50%);
}

#overlay2-text{
    position: absolute;
    top: 50%;
    left: 50%;
    font-size: 18px;
    color: white;
    transform: translate(-50%,-50%);
    -ms-transform: translate(-50%,-50%);
}

#overlay3-text{
    position: absolute;
    top: 50%;
    left: 50%;
    font-size: 18px;
    color: white;
    transform: translate(-50%,-50%);
    -ms-transform: translate(-50%,-50%);
}